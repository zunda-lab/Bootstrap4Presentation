# モーダルダイアログ

---
このレクチャーでは、Bootstrap4のモーダルダイアログについてお話しします。

---
モーダルダイアログは、ダイアログボックスを閉じるまでは、同じアプリケーションの他のウィンドウに対する操作ができないダイアログボックスのことです。
初めに、Bootstrap4の公式ホームページを利用してモーダルダイアログの基本について解説します。
Bootstrap4の公式ホームページで、Components の Modal を開きます。

---
まずは、基本構成をお話します。
初めに、モーダルダイアログを開く要素から説明します。
この例でモーダルダイアログを開く要素はボタンです。
学習用アプリケーション PMMS では a タグのリンクからモーダルダイアログを開きますが、基本は同じです。

---
button タグには data-toggle="modal" 属性を指定します。
それから、data-target属性に、この後お話しするモーダルダイアログの ID を指定します。
IDは任意の文字列を付けることができます。
先頭の # は必須ですので、忘れないようにしましょう。

---
続いて、モーダルダイアログの内容を記述する部分の説明です。
まず、一番外側に modal クラスを適用した div タグを作成します。
fade クラスを一緒に指定することで、フェード効果を指定できます。
ID 属性には先ほどボタンの data-target属性に指定した文字列と同じ文字列を設定します。

---
そして、その内側に modal-dailog クラスを適用した div タグを配置します。
さらに、その内側に modal-content クラスを適用した div タグを配置します。
その中には 3つの用途の div タグを用意します。
1つは、modal-header クラスを指定したモーダルのヘッダーの div タグ、2つ目は、modal-body クラスを指定したモーダルの本文の div タグ、3つ目は、modal-footer クラスを指定したモーダルのフッターの div タグです。

---
１つ目のモーダルのヘッダーから解説します。
モーダルダイアログのタイトルは、ヘッダーの中に modal-title クラスを適用した h5 タグなどで指定します。
h5 タグでなくても構いません。希望の文字の大きさに合わせ h1 〜 h6 タグなどから選びます。

---
ヘッダーにある×ボタンは、close クラスを適用した button タグで作成します。
閉じるボタンとして機能させるために、この button タグには data-dismiss="modal" 属性を指定してください。
span タグの中身で指定している ＆times； は「×」の文字を表しています。

---
２つ目のモーダルの本文については modal-body クラスを指定した div タグの中に作成します。

---
３つ目のモーダルのフッターを説明します。
フッターには一般的にモーダルを閉じるためのボタンを設置します。
この例では、data-dismiss="modal" 属性を指定した button タグで、Closeと表示したグレーのボタンを設置しています。

---
ここまでの説明で、モーダルダイアログの基本についてご理解いただけたと思います。
それでは学習用アプリケーション PMMS のモーダルダイアログを作ってみましょう。
モーダルダイアログのHTMLも型になっているので、公式ホームページからコピーをして PMMS 用にアレンジする方法を取ります。
まずは、ホームページの Copy ボタンをクリックして HTML をクリップボードに記憶させます。

---
次に VSCode で index.html を開き、script タグ3行の上に、コピーした HTML を貼り付けます。
モーダルを開くための button タグは不要なので削除しますが、その前に　data-toggle="modal" 属性と data-target="#exampleModal" 属性をコピーして、ナビゲーションバーの Ver1.00 と表示した a タグの属性として貼り付けます。
貼り付けたら、ホームページからコピーした button タグは削除しましょう。

---
この段階で、ブラウザで動作テストをしてみましょう。
保存した index.html を開いて、モーダルダイアログの右端バージョン番号をクリックしてみましょう。
ご覧の通り、ホームページと同じモーダルダイアログが表示されました。
Closeボタンでモーダルダイアログを閉じましょう。

---
VSCode に戻ります。
モーダルダイアログのヘッダのタイトルを、PMMSのアイコンとバージョンを表示するように修正します。
「Modal title」を削除し、emmet記法 span.oi.oi-monitor を展開しましょう。
それから、spanの閉じタグの後ろに「PMMS Version 1.00」と入力します。
アイコンと「PMMS Version 1.00」が接近しすぎなので、１つスペースを入れましょう。

---
次にモーダルダイアログの本文を作成します。
modal-body クラスを指定した div タグの中の「...」を削除して、p{プログラミング愛好会 会員管理システム}>br{＆＃040；PMMS : Programming club Membersip Management System＆＃041；} を展開しましょう。

---
フッターについては、「Close」ボタンを残し「Save changes」ボタンを削除します。

---
最後にモーダルダイアログを画面の上下中央に表示するように修正します。
modal-dialog クラスを適用した div タグに modal-dialog-centered クラスを追加します。

---
以上で、index.htmlの修正は終わりです。
ブラウザで動作テストをしてみましょう。
ブラウザをリロードしてから、モーダルダイアログの右端バージョン番号をクリックしてみましょう。
ご覧の通り、モーダルダイアログが画面中央に表示され、PMMSのバージョンが表示されました。

---
これでモーダルダイアログが完成しました。
modal クラスを適用した div タグ全体を detail.html と new.html にコピーしましょう。
また、ナビゲーションバーのバージョン番号を表示している a タグに、data-toggle="modal" 属性と data-target="#exampleModal" をコピーするのを忘れないようにしましょう。

---
以上で、Bootstrap4のモーダルダイアログについて解説を終わります。




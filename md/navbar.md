# ナビゲーションバー

---
このレクチャーでは、Bootstrap4のナビゲーションバーについてお話しします。

---
ナビゲーションバーは、Webサイトのメインメニューとして多く利用されているコンポーネントです。
初めに、Bootstrap4の公式ホームページを利用してナビゲーションバーの基本について解説します。
Bootstrap4の公式ホームページで、Components の Navbar を開きます。

---
まずは、基本構成をお話します。
一番外側にページのナビゲーションであることを示すnavタグがあります。
nabvarクラスでナビゲーションバーの範囲の開始であるこを宣言します。
併せてnavbar-expand-lg と navbar-light クラスを指定します。
navbar-expand-lg クラスはナビゲーションバーの項目を横に並べる指定です。
navbar-light クラスは明るめの文字色を使用する指定です。

---
基本的には、nabvarクラスを指定したnavタグの中に、ul タグを指定し、その中で li タグを使用してナビゲーションの項目を指定します。
このサンプルには4つの li タグがあります。
1つ目は Home リンク、2つ目は Link リンク、3つ目は Dropdown、4つ目は Disabled リンクです。

---
ul タグにはナビゲーションのリストであることを示す navbar-nav クラスを適用します。mr-autoクラスは左寄せにするクラスです。
li タグにはナビケーションの項目であることを示す navbar-item クラスを適用します。
また、選択中の項目には active クラスを適用します。
li タグの中に入れ込む a タグには nav-link クラスを適用します。

---
nav タグの直下に navbar-brand クラスを適用した a タグがあります。
navbar-brand クラスはブランド指定の書式設定です。ブランド指定は、ブランド名やサイトのロゴを設定します。
a タグの href 属性にはサイトのトップ画面を指定することが多いと思います。

---
ここまでが、ナビゲーションバーの基本構成です。
次にナビゲーションバーのレスポンシブ対応についてお話します。

---
Bootstap4公式ページのこのナビゲーションバーは「レスポンシブナビゲーションメニュー」となっています。
今、ナビゲーションバーの各項目は横に並んでいます。ここで、ブラウザの横幅をせばめてみましょう。
この幅でナビゲーションバーの各項目が消えてハンバーガーメニューが出現しまた。ハンバーガーメニューをクリックしてみましょう。
ナビゲーションバーの各項目は縦に並んで表示されました。

---
navタグに navbar-expand-lg クラスを適用しています。
navbar-expand は「常に縮小しないでナビゲーションバーを表示する」という意味ですが、このクラスに lg の添字を追加すると 992px がブレイクポイントのレスポンシブナビゲーションバーとなります。
つまり、画面の幅が 992px 以上の場合は横並びとなり、992px 未満の場合は縮小表示されます。

---
ハンバーガーメニューは navbar-toggler　クラスを適用した button タグで定義します。
ハンバーガーメニューに入れ込む部分は collapse（コラプス） と navbar-collapse を適用した div タグで囲みます。
button タグの data-target 属性と div タグの id 属性を一致させる必要があります。

---
次にドロップダウンメニューについて解説します。
ナビゲーションバーの項目をドロップダウンメニューにしたい場合は、li タグの nav-item クラスに追加して dropdown クラスを適用します。
そして、a タグに dropdown-toggle クラスを適用して、data-toggle="dropdown" 属性を指定します。

---
サブメニューの範囲は dropdown-menu クラスを適用した div タグを準備して、この中に dropdown-item クラスを適用した a タグを並べます。

---
このナビゲーションバーにはフォームが配置してありますが、学習用アプリケーション PMMS のナビゲーションバーにフォームはありません。このコースでの説明は割愛します。

---
ここまでの説明で、ナビゲーションバーの基本についてご理解いただけたと思います。
それでは学習用アプリケーション PMMS のナビゲーションバーを作ってみましょう。
ナビゲーションバーのHTMLはコーディング量が多いので、今回は公式ホームページからコピーをして PMMS 用にアレンジする方法を取ります。
まずは、ホームページの Copy ボタンをクリックして HTML をクリップボードに記憶させます。

---
次に VSCode で index.html を開き、body タグの直下 jumbotron の上にコピーした HTML を貼り付けます。
ご覧の通り、リアルタイムプレビューにもナビゲーションバーが表示されました。

---
リアルタイムプレビューを横に表示するとブラウザとしての横幅が狭く、レスポンシブナビゲーションバーとしてハンバーガーメニューが表示された状態となっています。そこで、リアルタイムブレビューを右ではなく、下に表示させます。

---
VSCodeのメニューで「表示」→「エディターレイアウト」→「縦/横レイアウトの切り替え」を選択しましょう。リアルタイムプレビューが下に表示されました。切り替え直後、何も表示されない場合は、対象の HTML ファイルに改行を入れるなどして、すこしいじってみると、表示されます。

---
まずは、ナビゲーションバーのフォーム部分を削除します。form タグを丸ごと削除しましょう。

---
次に、ブランド指定を修正します。
navbar-brand クラスを適用した a タグの中身を PMMS に、href 属性を index.html に修正します。

---
PMMSのブランド指定にはアイコンを表示しています。
PMMSの文字列の前で span.oi.oi-monitor とタブキーをタイプしましょう。
タブキーで emmet の展開がうまくできないときは、メニューの「編集」→「Emmet:略語の展開」を選択すると展開できるようです。
アイコンとPMMSの間が接近しすぎなので、１つスペースを入れます。

---
次に、nav-item クラスを適用したナビゲーションの項目を修正します。
まずは、active クラスを適用した項目を修正しましょう。

---
Home を「会員一覧」に、a タグの href 属性を index.html に修正します。
sr-onlyクラスを適用した div タグはスクリーンリーダ用のものなので、今回は削除しましょう。
ここでもアイコンを挿入します。「会員一覧」の前で、emmet略語 span.oi.oi-list を展開します。
アイコンと「会員一覧」が接近しすぎなので、１つスペースを入れましょう。

---
次に、nav-item クラスを適用したナビゲーションの項目を修正します。
Link を「会員登録」に、a タグの href 属性を new.html に修正します。
ここでもアイコンを挿入します。「会員一覧」の前で、emmet略語 span.oi.oi-pencil を展開します。
アイコンと「会員登録」が接近しすぎなので、１つスペースを入れましょう。

---
次に、dropdown クラスを適用したナビゲーションの項目を修正します。
Dropdown を「言語別」に修正します。
ここでもアイコンを挿入します。「言語別」の前で、emmet略語 span.oi.oi-people を展開します。
アイコンと「言語別」が接近しすぎなので、１つスペースを入れましょう。

---
次に、ドロップダウンのサブメニューを修正します。 
dropdown-item クラスを適用した a タグの中身を「Java」「Python」「C/C++」修正しましょう。
dropdown-divider クラスの行は区切り線なので、削除しましょう。

---
ここで、ドロップダウンをクリックして展開してみましょう。
リアルタイププレビューは Javascript に対応していないようなので、Chrome や Safari などのブラウザで確認します。
ブラウザの「ファイルを開く」で保存した index.html を開きます。
「言語別」のブルダウンが動作することを確認できると思います。

---
残ったナビゲーションの項目 Disabled は削除します。

---
次に、右端にバージョン番号のリンクを作成します。
ul タグの閉じタグの後ろでemmet略語  span.navbar-text>a.nav-link[href=#]{Version 1.00} を展開します。
右端にバージョン番号が表示されました。
右端に表示されたのは ul タグに mr-auto クラスを適用しているためです。ul タグの後続の項目は右に寄せて表示されます。
後のレクチャーでこのバージョン番号をクリックするとモーダルダイアログが表示されるように改修します。

---
ナビゲーションの項目は全て揃いました。
最後に、ナビゲーションバーを画面上部に固定します。
画面上部に固定する理由は、画面をスクロールしてもナビゲーションバーを常に表示するためです。
現状では上にスクロールするとナビゲーションバーが消えてしまいます。
固定するには nav タグに fixed-top クラスを適用します。スクロールしてみましょう。上部に固定されたことがわかります。

---
しかし、ご覧の通り、ジャンボトロンの上部がナビゲーションバーに隠れてしまっています。
fixed-top クラスを使用する場合は、body 要素に上部のパディングの確保が必要です。
body タグに style="padding-top: 3.0rem;" 属性を追加しましょう。
私はジャンボトロンとナビゲーションバーに隙間が開かないスタイルが好みなので、3.0remを設定しています。
3.0rem は htmlのルート要素の文字サイズを基準として、その3.0倍のサイズを意味します。

---
これでナビゲーションバーが完成しました。
nav タグ全体と body タグの style 属性を detail.html と new.html にコピーしましょう。
jquery, popper.js, bootstrap4 の Javascript を読み込む3行の script タグもコピーしましょう。

---

以上で、Bootstrap4のナビゲーションについて解説を終わります。



